<!DOCTYPE html>
<html lang="da">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mad og Mæthed</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.7.0/chart.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
        }

        body {
            background-color: #f5f5f5;
        }

        .container {
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            background-color: white;
            min-height: 100vh;
        }

        .header {
            position: sticky;
            top: 0;
            background: white;
            padding: 20px 0;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            z-index: 100;
        }

        h1 {
            text-align: center;
            margin-bottom: 20px;
            color: #333;
        }

        .search-container {
            margin-bottom: 20px;
        }

        .search-input {
            width: 100%;
            padding: 12px;
            font-size: 16px;
            border: 2px solid #ddd;
            border-radius: 8px;
            outline: none;
        }

        .search-input:focus {
            border-color: #007bff;
        }

        .search-results {
            position: absolute;
            width: calc(100% - 40px);
            max-height: 300px;
            overflow-y: auto;
            background: white;
            border: 1px solid #ddd;
            border-radius: 8px;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            display: none;
        }

        .search-item {
            padding: 12px;
            border-bottom: 1px solid #eee;
            cursor: pointer;
        }

        .search-item:hover {
            background-color: #f8f9fa;
        }

        .chart-container {
            margin-top: 20px;
            height: 500px;
            position: relative;
        }

        .legend {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 20px 0;
            padding: 15px;
            background: #f8f9fa;
            border-radius: 8px;
        }

        .legend-item {
            display: flex;
            align-items: center;
            font-size: 14px;
        }

        .legend-color {
            width: 16px;
            height: 16px;
            margin-right: 8px;
            border-radius: 4px;
        }

        @media (max-width: 480px) {
            .container {
                padding: 10px;
            }

            .search-input {
                font-size: 14px;
            }

            .legend {
                font-size: 12px;
            }
        }
    </style>
</head>
<body>
<div class="container">
    <div class="header">
        <h1>Mad og Mæthed</h1>
        <div class="search-container">
            <input type="text" class="search-input" placeholder="Søg efter fødevare...">
            <div class="search-results"></div>
        </div>
        <div class="legend">
            <div class="legend-item">
                <div class="legend-color" style="background: rgba(255,0,0,0.2)"></div>
                <span>Høje kalorier, Lav mæthed</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: rgba(255,165,0,0.2)"></div>
                <span>Høje kalorier, Høj mæthed</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: rgba(0,128,0,0.2)"></div>
                <span>Lave kalorier, Høj mæthed</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: rgba(255,255,0,0.2)"></div>
                <span>Lave kalorier, Lav mæthed</span>
            </div>
        </div>
    </div>
    <div class="chart-container">
        <canvas id="foodChart"></canvas>
    </div>
</div>

<script>
    const foods = [
        // Frugt (per 100g)
        { name: "Æble", calories: 52, satiety: 4.2 },
        { name: "Banan", calories: 89, satiety: 6.1 },
        { name: "Appelsin", calories: 47, satiety: 4.8 },
        { name: "Pære", calories: 57, satiety: 4.3 },
        { name: "Vindruer", calories: 67, satiety: 3.8 },
        { name: "Jordbær", calories: 32, satiety: 3.2 },
        { name: "Blåbær", calories: 57, satiety: 3.8 },
        { name: "Kiwi", calories: 61, satiety: 4.1 },
        { name: "Melon", calories: 34, satiety: 3.5 },
        { name: "Ananas", calories: 50, satiety: 3.9 },
        { name: "Mango", calories: 60, satiety: 4.4 },
        { name: "Fersken", calories: 39, satiety: 3.6 },
        { name: "Nektarin", calories: 44, satiety: 3.7 },
        { name: "Hindbær", calories: 52, satiety: 3.4 },
        { name: "Brombær", calories: 43, satiety: 3.3 },

// Grøntsager (per 100g)
        { name: "Gulerod", calories: 41, satiety: 4.3 },
        { name: "Agurk", calories: 15, satiety: 2.8 },
        { name: "Tomat", calories: 22, satiety: 3.1 },
        { name: "Kartoffel", calories: 77, satiety: 5.8 },
        { name: "Majs", calories: 86, satiety: 5.2 },
        { name: "Ærter", calories: 81, satiety: 5.4 },
        { name: "Broccoli", calories: 55, satiety: 4.9 },
        { name: "Blomkål", calories: 25, satiety: 4.2 },
        { name: "Spinat", calories: 23, satiety: 3.8 },
        { name: "Rødkål", calories: 31, satiety: 3.9 },
        { name: "Hvidkål", calories: 25, satiety: 3.7 },
        { name: "Porre", calories: 61, satiety: 3.6 },
        { name: "Rødbede", calories: 43, satiety: 4.1 },
        { name: "Squash", calories: 17, satiety: 3.2 },
        { name: "Aubergine", calories: 25, satiety: 3.5 },
        { name: "Champignon", calories: 22, satiety: 3.4 },
        { name: "Grøn Peber", calories: 20, satiety: 3.0 },
        { name: "Rød Peber", calories: 31, satiety: 3.2 },
        { name: "Pastinak", calories: 75, satiety: 4.6 },
        { name: "Selleri", calories: 16, satiety: 3.4 },

// Kød og Fisk (per 100g)
        { name: "Kyllingebryst", calories: 165, satiety: 8.4 },
        { name: "Oksekød (magert)", calories: 187, satiety: 8.6 },
        { name: "Svinekød (magert)", calories: 242, satiety: 8.2 },
        { name: "Laks", calories: 208, satiety: 7.8 },
        { name: "Torsk", calories: 82, satiety: 7.2 },
        { name: "Tun i vand", calories: 116, satiety: 7.6 },
        { name: "Reje", calories: 85, satiety: 6.8 },
        { name: "Æg", calories: 155, satiety: 7.2 },
        { name: "Kalkun", calories: 157, satiety: 8.3 },
        { name: "Makrel", calories: 262, satiety: 7.9 },
        { name: "Sild", calories: 203, satiety: 7.4 },
        { name: "Ørred", calories: 190, satiety: 7.5 },

// Mejeriprodukter (per 100g)
        { name: "Skyr", calories: 63, satiety: 7.1 },
        { name: "Græsk Yoghurt", calories: 133, satiety: 6.4 },
        { name: "Hytteost", calories: 103, satiety: 6.8 },
        { name: "Skummetmælk", calories: 35, satiety: 3.8 },
        { name: "Letmælk", calories: 47, satiety: 4.0 },
        { name: "Sødmælk", calories: 65, satiety: 4.2 },
        { name: "Cheddar Ost", calories: 402, satiety: 7.2 },
        { name: "Mozzarella", calories: 280, satiety: 6.8 },
        { name: "Parmesan", calories: 431, satiety: 7.4 },
        { name: "Cottage Cheese", calories: 98, satiety: 6.9 },
        { name: "Fløde 38%", calories: 384, satiety: 4.8 },
        { name: "Creme Fraiche 38%", calories: 395, satiety: 4.6 },

// Kornprodukter (per 100g)
        { name: "Havregryn", calories: 389, satiety: 7.2 },
        { name: "Rugbrød", calories: 259, satiety: 7.4 },
        { name: "Fuldkornspasta", calories: 124, satiety: 6.8 },
        { name: "Hvid Pasta", calories: 158, satiety: 6.2 },
        { name: "Brune Ris", calories: 111, satiety: 6.6 },
        { name: "Hvide Ris", calories: 130, satiety: 6.0 },
        { name: "Quinoa", calories: 120, satiety: 6.7 },
        { name: "Couscous", calories: 112, satiety: 5.8 },
        { name: "Müsli", calories: 354, satiety: 6.3 },
        { name: "Franskbrød", calories: 265, satiety: 5.4 },

// Bælgfrugter (per 100g, tilberedt)
        { name: "Kidneybønner", calories: 127, satiety: 7.8 },
        { name: "Linser", calories: 116, satiety: 7.6 },
        { name: "Kikærter", calories: 164, satiety: 7.4 },
        { name: "Sorte Bønner", calories: 132, satiety: 7.7 },
        { name: "Edamamebønner", calories: 122, satiety: 7.2 },
        { name: "Grønne Linser", calories: 114, satiety: 7.5 },

// Nødder og Frø (per 100g)
        { name: "Mandler", calories: 579, satiety: 6.8 },
        { name: "Valnødder", calories: 654, satiety: 6.9 },
        { name: "Cashewnødder", calories: 553, satiety: 6.5 },
        { name: "Pistacienødder", calories: 562, satiety: 6.7 },
        { name: "Chiafrø", calories: 486, satiety: 6.4 },
        { name: "Græskarkerner", calories: 559, satiety: 6.6 },
        { name: "Solsikkekerner", calories: 584, satiety: 6.5 },
        { name: "Peanuts", calories: 567, satiety: 6.7 },

// Snacks og Søde Sager (per 100g)
        { name: "Mørk Chokolade", calories: 546, satiety: 4.8 },
        { name: "Mælkechokolade", calories: 545, satiety: 4.2 },
        { name: "Chips", calories: 536, satiety: 3.8 },
        { name: "Popcorn", calories: 375, satiety: 4.1 },
        { name: "Vingummi", calories: 354, satiety: 2.2 },
        { name: "Saltstænger", calories: 370, satiety: 3.6 },
        { name: "Nøddemix", calories: 607, satiety: 6.4 },
        { name: "Tørret Frugt Mix", calories: 340, satiety: 4.5 },

// Sovser (per 100g)
        { name: "Ketchup", calories: 112, satiety: 1.8 },
        { name: "Mayonnaise", calories: 687, satiety: 3.2 },
        { name: "Bearnaise sauce", calories: 550, satiety: 3.1 },
        { name: "Remoulade", calories: 587, satiety: 2.8 },
        { name: "Thousand Island", calories: 500, satiety: 2.6 },
        { name: "BBQ sauce", calories: 193, satiety: 1.9 },
        { name: "Sennep", calories: 80, satiety: 2.1 },
        { name: "Chili sauce (sød)", calories: 220, satiety: 1.8 },
        { name: "Ranch dressing", calories: 487, satiety: 2.7 },
        { name: "Aioli", calories: 800, satiety: 3.0 },
        { name: "Tzatziki", calories: 213, satiety: 2.9 },
        { name: "Guacamole", calories: 300, satiety: 4.2 },
        { name: "Hummus", calories: 180, satiety: 4.6 },
        { name: "Whiskysauce", calories: 527, satiety: 2.9 },
        { name: "Hollandaise", calories: 475, satiety: 2.8 },
        { name: "Cremefraiche dressing", calories: 613, satiety: 2.7 }
    ];

    // Setup Chart.js
    const ctx = document.getElementById('foodChart').getContext('2d');
    const quadrantPlugin = {
        id: 'quadrantPlugin',
        beforeDraw: (chart) => {
            const {ctx, chartArea: {top, bottom, left, right, width, height}} = chart;
            const midX = left + width / 2;
            const midY = top + height / 2;

            // Draw quadrants
            ctx.save();

            // Red quadrant (top-left)
            ctx.fillStyle = 'rgba(255,0,0,0.2)';
            ctx.fillRect(left, top, midX - left, midY - top);

            // Orange quadrant (top-right)
            ctx.fillStyle = 'rgba(255,165,0,0.2)';
            ctx.fillRect(midX, top, right - midX, midY - top);

            // Green quadrant (bottom-right)
            ctx.fillStyle = 'rgba(0,128,0,0.2)';
            ctx.fillRect(midX, midY, right - midX, bottom - midY);

            // Yellow quadrant (bottom-left)
            ctx.fillStyle = 'rgba(255,255,0,0.2)';
            ctx.fillRect(left, midY, midX - left, bottom - midY);

            ctx.restore();
        }
    };

    const foodChart = new Chart(ctx, {
        type: 'scatter',
        data: {
            datasets: [{
                label: 'Fødevarer',
                data: foods.map(food => ({
                    x: food.satiety,
                    y: food.calories,
                    name: food.name
                })),
                backgroundColor: 'rgba(75, 192, 192, 0.6)',
                pointRadius: 6
            }]
        },
        options: {
            responsive: true,
            maintainAspectRatio: false,
            plugins: {
                tooltip: {
                    callbacks: {
                        label: function(context) {
                            const point = context.raw;
                            return [
                                point.name,
                                `Kalorier: ${point.y}`,
                                `Mæthed: ${point.x.toFixed(1)}`
                            ];
                        }
                    }
                },
                legend: {
                    display: false
                }
            },
            scales: {
                x: {
                    title: {
                        display: true,
                        text: 'Mæthedsfornemmelse (1-10)'
                    },
                    min: 0,
                    max: 10
                },
                y: {
                    title: {
                        display: true,
                        text: 'Kalorier per 100g'
                    },
                    min: 0,
                    max: 900
                }
            }
        },
        plugins: [quadrantPlugin]
    });

    // Search functionality
    const searchInput = document.querySelector('.search-input');
    const searchResults = document.querySelector('.search-results');

    searchInput.addEventListener('input', (e) => {
        const searchTerm = e.target.value.toLowerCase();
        if (searchTerm.length < 1) {
            searchResults.style.display = 'none';
            return;
        }

        const filteredFoods = foods.filter(food =>
            food.name.toLowerCase().includes(searchTerm)
        );

        searchResults.innerHTML = filteredFoods
            .map(food => `
                    <div class="search-item" data-name="${food.name}">
                        ${food.name} (${food.calories} kcal/100g)
                    </div>
                `)
            .join('');

        searchResults.style.display = 'block';
    });

    searchResults.addEventListener('click', (e) => {
        const item = e.target.closest('.search-item');
        if (!item) return;

        const selectedName = item.dataset.name;
        const selectedFood = foods.find(f => f.name === selectedName);

        // Highlight selected food in chart
        foodChart.data.datasets[0].pointBackgroundColor = foods.map(f =>
            f.name === selectedName ? 'rgba(255, 0, 0, 0.8)' : 'rgba(75, 192, 192, 0.6)'
        );
        foodChart.data.datasets[0].pointRadius = foods.map(f =>
            f.name === selectedName ? 10 : 6
        );
        foodChart.update();

        searchInput.value = '';
        searchResults.style.display = 'none';
    });

    // Close search results when clicking outside
    document.addEventListener('click', (e) => {
        if (!e.target.closest('.search-container')) {
            searchResults.style.display = 'none';
        }
    });
</script>
</body>
</html>